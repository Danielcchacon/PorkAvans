<app-side-bar></app-side-bar>
<section class="page-content">
  <article class="container" style="width: 100%;">
    <div class="table-container">
      <mat-form-field appearance="outline" class="filter-input">
        <mat-label>Buscar</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filtrar por cualquier campo" />
      </mat-form-field>

      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <!-- Asociado Column -->
        <ng-container matColumnDef="asociado">
          <th mat-header-cell *matHeaderCellDef> Asociado </th>
          <td mat-cell *matCellDef="let element"> {{ element.associate_id }} </td>
        </ng-container>

        <!-- Producto Column -->
        <ng-container matColumnDef="producto">
          <th mat-header-cell *matHeaderCellDef> Producto </th>
          <td mat-cell *matCellDef="let element"> {{ element.product_sale_name }} </td>
        </ng-container>

        <!--Precio Column-->
        <ng-container matColumnDef="precio">
          <th mat-header-cell *matHeaderCellDef>Precio</th>
          <td mat-cell *matCellDef="let element">{{element.price}}</td>
        </ng-container>

        <!-- Categoría Column -->
        <ng-container matColumnDef="categoria">
          <th mat-header-cell *matHeaderCellDef> Categoría </th>
          <td mat-cell *matCellDef="let element"> {{ element.product_category_sale_description }} </td>
        </ng-container>

        <!-- Comisión Column -->
        <ng-container matColumnDef="comision">
          <th mat-header-cell *matHeaderCellDef> Comisión </th>
          <td mat-cell *matCellDef="let element"> {{ element.commission_value | currency }} </td>
        </ng-container>

        <!-- Cantidad Disponible Column -->
        <ng-container matColumnDef="cantidadDisponible">
          <th mat-header-cell *matHeaderCellDef> Cantidad Disponible </th>
          <td mat-cell *matCellDef="let element"> {{ element.product_sale_quantity }} </td>
        </ng-container>

        <!-- Fecha Inicio Column -->
        <ng-container matColumnDef="fechaInicio">
          <th mat-header-cell *matHeaderCellDef> Fecha Inicio </th>
          <td mat-cell *matCellDef="let element"> {{ element.start_date | date: 'shortDate' }} </td>
        </ng-container>

        <!-- Opciones Column -->
        <ng-container matColumnDef="opcion">
          <th mat-header-cell *matHeaderCellDef> Opciones </th>
          <td mat-cell *matCellDef="let element">
            <button mat-button color="primary" (click)="generateLink(element)">Enlace</button>
          </td>
        </ng-container>
        


        <!-- Header Row -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

        <!-- Data Rows -->
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [length]="totalRecords" [pageSize]="10" showFirstLastButtons></mat-paginator>
    </div>
  </article>
</section>